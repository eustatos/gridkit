"use strict";var c=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var v=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var w=(e,a)=>{for(var t in a)c(e,t,{get:a[t],enumerable:!0})},D=(e,a,t,r)=>{if(a&&typeof a=="object"||typeof a=="function")for(let n of v(a))!E.call(e,n)&&n!==t&&c(e,n,{get:()=>a[n],enumerable:!(r=g(a,n))||r.enumerable});return e};var x=e=>D(c({},"__esModule",{value:!0}),e);var S={};w(S,{createDefaultEnhancedTable:()=>h,createEnhancedTable:()=>l,createEnhancedTableFromOptions:()=>d,useGridEnhancedTable:()=>M,useTableEvents:()=>R,useTableMetrics:()=>V,useValidation:()=>k,withEvents:()=>f,withPerformanceMonitoring:()=>b,withValidation:()=>p});module.exports=x(S);var s=require("react"),y=require("@tanstack/react-table");function l(e,a){return{...e}}function d(e){throw new Error("createEnhancedTableFromOptions not yet implemented")}function h(e){return d({...e,features:{events:!0,performance:!0,validation:!0,...e.features}})}var T=class{constructor(){this.handlers=new Map}on(a,t){return this.handlers.has(a)||this.handlers.set(a,new Set),this.handlers.get(a).add(t),()=>this.off(a,t)}off(a,t){let r=this.handlers.get(a);r&&r.delete(t)}emit(a,t,r){let n=this.handlers.get(a);n&&n.forEach(o=>o({type:a,payload:t,...r}))}use(a){return()=>{}}};function f(e,a){let t=new T;return{...e,on:(n,o)=>t.on(n,o),off:(n,o)=>{t.off(n,o)},emit:(n,o,i)=>{t.emit(n,o,i)},use:n=>t.use(n)}}var u=class{constructor(){this.stats=new Map}track(a,t){let r=performance.now(),n=t(),o=performance.now()-r,i=this.stats.get(a)||{count:0,totalTime:0};return this.stats.set(a,{count:i.count+1,totalTime:i.totalTime+o}),n}getOperationStats(a){let t=this.stats.get(a);return t?{operation:a,count:t.count,avgTime:t.totalTime/t.count,totalTime:t.totalTime}:null}getMemoryMetrics(){return{heapUsed:0,heapTotal:0,external:0}}};function b(e,a){let t=new u,r=["getRowModel","getSortedRowModel","getFilteredRowModel"],n={...e};return r.forEach(o=>{n[o]=((...i)=>t.track(String(o),()=>e[o](...i)))}),n.metrics=t,n}var m=class{constructor(a){this.mode=a?.mode||"normal"}async validateRow(a,t){let r=[],n=[];return this.mode,{isValid:r.length===0,errors:r,warnings:n}}async validateAll(a){return[]}};function p(e,a){let t=new m(a);return{...e,validator:t,validateRow:async(n,o)=>t.validateRow(n,o),validateAll:async()=>{let n=e.getRowModel?.().rows||[];return t.validateAll(n)}}}function M(e){let{features:a,...t}=e,r=(0,y.useReactTable)(t);return(0,s.useMemo)(()=>l(r,a),[r,a])}function V(e){return(0,s.useMemo)(()=>({getOperationStats:a=>e.metrics?.getOperationStats(a),getMemoryMetrics:()=>e.metrics?.getMemoryMetrics()}),[e.metrics])}function k(e){return(0,s.useMemo)(()=>({validateRow:async(a,t)=>{if(!e.validateRow)throw new Error("Validation not enabled");return e.validateRow(a,t)},validateAll:async()=>{if(!e.validateAll)throw new Error("Validation not enabled");return e.validateAll()},validator:e.validator}),[e.validateRow,e.validateAll,e.validator])}function R(e){return(0,s.useMemo)(()=>({on:e.on,off:e.off,emit:e.emit,use:e.use}),[e.on,e.off,e.emit,e.use])}
//# sourceMappingURL=index.js.map