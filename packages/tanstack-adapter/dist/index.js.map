{"version":3,"sources":["../src/index.ts","../src/react/useGridEnhancedTable.ts","../src/core/createEnhancedTable.ts","../src/enhancers/withEvents.ts","../src/enhancers/withPerformanceMonitoring.ts","../src/enhancers/withValidation.ts","../src/enhancers/withPlugins.ts","../src/columns/enhanceColumn.ts","../src/columns/withColumnValidation.ts","../src/columns/withColumnFormat.ts","../src/columns/withColumnEvents.ts","../src/columns/withColumnMetadata.ts","../src/columns/withColumnPerformance.ts","../src/columns/composeColumnEnhancers.ts"],"sourcesContent":["// Main entry point for @gridkit/tanstack-adapter\n// Exports all features including React hooks\n\nexport * from './react'\nexport * from './types/enhanced'\nexport * from './core/createEnhancedTable'\nexport * from './enhancers/withEvents'\nexport * from './enhancers/withPerformanceMonitoring'\nexport * from './enhancers/withValidation'\nexport * from './enhancers/withPlugins'\nexport * from './columns'\n","// React hooks for GridKit TanStack Adapter\n// Implements ADAPTER-002: React Hooks Integration\n\nimport { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport type { TableOptions as TanStackTableOptions, RowData } from '@tanstack/react-table'\nimport { useReactTable } from '@tanstack/react-table'\nimport type { EnhancedTable, EnhancedTableFeatures } from '../types/enhanced'\nimport { createEnhancedTable } from '../core/createEnhancedTable'\n\n// Type for enhanced table options with GridKit features\nexport interface UseGridEnhancedTableOptions<TData extends RowData>\n  extends TanStackTableOptions<TData> {\n  features?: EnhancedTableFeatures\n}\n\n/**\n * Main hook for creating an enhanced GridKit table with TanStack Table\n */\nexport function useGridEnhancedTable<TData extends RowData>(\n  options: UseGridEnhancedTableOptions<TData>\n): EnhancedTable<TData> {\n  const { features, ...tanstackOptions } = options\n\n  // Create TanStack table instance\n  const tanstackTable = useReactTable(tanstackOptions)\n\n  // Create enhanced table with GridKit features\n  const enhancedTable = useMemo(() => {\n    return createEnhancedTable(tanstackTable, features)\n  }, [tanstackTable, features])\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      enhancedTable.emit?.('table:destroy', { tableId: 'unknown' })\n      enhancedTable.metrics?.clear?.()\n    }\n  }, [enhancedTable, tanstackTable.options.meta, features])\n\n  return enhancedTable\n}\n\n/**\n * Hook for managing table events\n */\nexport function useTableEvents<TData extends RowData>(\n  table: EnhancedTable<TData>,\n  eventHandlers: Record<string, (event: any) => void | Promise<void>>\n): void {\n  useEffect(() => {\n    if (!table.on || !table.off) return\n\n    const unsubscribers: Array<() => void> = []\n    Object.entries(eventHandlers).forEach(([eventType, handler]) => {\n      if (!table.on) return\n      const unsub = table.on(eventType, handler as any)\n      if (unsub) {\n        unsubscribers.push(unsub)\n      }\n    })\n\n    return () => {\n      unsubscribers.forEach((unsub) => unsub())\n    }\n  }, [table, eventHandlers])\n}\n\n/**\n * Hook for accessing performance metrics\n */\nexport function useTableMetrics<TData extends RowData>(\n  table: EnhancedTable<TData>,\n  refreshInterval?: number\n): any {\n  const [stats, setStats] = useStateMetrics(table.metrics)\n\n  useEffect(() => {\n    if (!refreshInterval || !table.metrics) return\n\n    const interval = setInterval(() => {\n      if (!table.metrics) return\n      const metrics = table.metrics.getMetrics?.()\n      setStats(metrics)\n    }, refreshInterval)\n\n    return () => clearInterval(interval)\n  }, [refreshInterval, table.metrics])\n\n  return stats\n}\n\nfunction useStateMetrics(metrics: any) {\n  const [stats, setStats] = useState(metrics?.getMetrics?.() ?? undefined)\n\n  useEffect(() => {\n    if (metrics) {\n      setStats(metrics.getMetrics?.())\n    }\n  }, [metrics])\n\n  return stats\n}\n\n/**\n * Hook for accessing validation status\n */\nexport function useTableValidation<TData extends RowData>(\n  table: EnhancedTable<TData>,\n  autoValidate: boolean = false\n): {\n  report: any | undefined\n  validate: () => Promise<any>\n  isValidating: boolean\n} {\n  const [report, setReport] = useState<any>()\n  const [isValidating, setIsValidating] = useState(false)\n\n  const validate = useCallback(async () => {\n    if (!table.validateAll && !table.validator?.validateAll) {\n      throw new Error('Validation not enabled')\n    }\n\n    setIsValidating(true)\n    try {\n      const result = await table.validateAll?.()\n      setReport(result)\n      return result\n    } finally {\n      setIsValidating(false)\n    }\n  }, [table.validateAll, table.validator])\n\n  useEffect(() => {\n    if (autoValidate) {\n      validate()\n    }\n  }, [table.options.data, autoValidate, validate])\n\n  return { report, validate, isValidating }\n}\n\n/**\n * Hook for accessing a registered plugin\n */\nexport function useTablePlugin<TData extends RowData, TPlugin = any>(\n  table: EnhancedTable<TData>,\n  pluginId: string\n): TPlugin | undefined {\n  const [plugin, setPlugin] = useState<TPlugin>()\n\n  useEffect(() => {\n    if (!table.getPlugin) return\n    const found = table.getPlugin(pluginId) as TPlugin | undefined\n    setPlugin(found)\n  }, [table, pluginId])\n\n  return plugin\n}\n\n/**\n * Hook for setting up enhanced features at once\n */\nexport function useEnhancedFeatures<TData extends RowData>(\n  table: EnhancedTable<TData>,\n  config?: {\n    events?: Record<string, (event: any) => void | Promise<void>>\n    metricsInterval?: number\n    autoValidate?: boolean\n  }\n): {\n  metrics?: any\n  validation?: {\n    report: any | undefined\n    validate: () => Promise<any>\n    isValidating: boolean\n  }\n} {\n  useTableEvents(table, config?.events || {})\n  const metrics = useTableMetrics(table, config?.metricsInterval)\n  const validation = useTableValidation(table, config?.autoValidate)\n\n  return useMemo(\n    () => ({\n      metrics,\n      validation,\n    }),\n    [metrics, validation]\n  )\n}\n\n/**\n * Hook for monitoring performance budgets\n */\nexport function useTablePerformance<TData extends RowData>(\n  table: EnhancedTable<TData>,\n  budgets?: Record<string, { maxTime: number; alert?: boolean }>\n): void {\n  useEffect(() => {\n    if (!table.metrics || !budgets) return\n\n    Object.entries(budgets).forEach(([operation, budget]) => {\n      if (!table.metrics) return\n      table.metrics.setBudgets?.({\n        operations: { [operation]: budget.maxTime }\n      })\n    })\n\n    const handleViolation = (event: any) => {\n      console.warn('Performance budget exceeded:', event.payload)\n    }\n\n    const unsub = table.on && table.on('performance:budget:exceeded', handleViolation)\n\n    return () => unsub?.()\n  }, [table, budgets])\n}\n\n/**\n * Hook for subscribing to table state changes\n */\nexport function useTableState<TData extends RowData>(\n  table: EnhancedTable<TData>,\n  callback: (state: any) => void | Promise<void>\n): void {\n  useEffect(() => {\n    if (!table.on) return\n\n    const handler = (event: any) => {\n      if (event.type === 'table:state' || event.type === 'table:update') {\n        callback(event.payload)\n      }\n    }\n\n    table.on?.('table:state', handler)\n    table.on?.('table:update', handler)\n\n    return () => {\n      table.off?.('table:state', handler)\n      table.off?.('table:update', handler)\n    }\n  }, [table, callback])\n}\n\n/**\n * Hook for managing selection state\n */\nexport function useTableSelection<TData extends RowData>(\n  table: EnhancedTable<TData>\n): [string[], (rowId: string, checked: boolean) => void] {\n  const [selectedRowIds, setSelectedRowIds] = useState<string[]>([])\n\n  useEffect(() => {\n    const state = table.getState?.() as any\n    const rowSelection = state?.rowSelection ?? {}\n    const selectedIds = Array.isArray(rowSelection) \n      ? rowSelection \n      : Object.keys(rowSelection)\n    setSelectedRowIds(selectedIds)\n  }, [table])\n\n  const selectRow = useCallback(\n    (rowId: string, checked: boolean) => {\n      if (!table.setRowSelection) {\n        console.warn('Selection not supported')\n        return\n      }\n\n      setSelectedRowIds((prev) => {\n        if (checked) {\n          return Array.from(new Set([...prev, rowId]))\n        } else {\n          return prev.filter((id) => id !== rowId)\n        }\n      })\n\n      table.setRowSelection((prev: any = {}) => {\n        if (checked) {\n          return { ...prev, [rowId]: true }\n        } else {\n          const { [rowId]: _, ...rest } = prev\n          return rest\n        }\n      })\n    },\n    [table]\n  )\n\n  return [selectedRowIds, selectRow]\n}\n\n/**\n * Hook for accessing table metrics statistics\n */\nexport function useTableStats<TData extends RowData>(\n  table: EnhancedTable<TData>\n): {\n  totalOperations: number\n  avgTime?: number\n  peakTime?: number\n  operations: Record<string, number>\n} {\n  const [stats, setStats] = useState({\n    totalOperations: 0,\n    avgTime: undefined as number | undefined,\n    peakTime: undefined as number | undefined,\n    operations: {} as Record<string, number>,\n  })\n\n  useEffect(() => {\n    if (!table.metrics) {\n      setStats({ totalOperations: 0, avgTime: undefined, peakTime: undefined, operations: {} })\n      return\n    }\n\n    const currentMetrics = table.metrics.getMetrics?.()\n    if (currentMetrics && currentMetrics.operations) {\n      let totalOps = 0\n      let totalDuration = 0\n      let peakTime = 0\n      const ops: Record<string, number> = {}\n\n      Object.entries(currentMetrics.operations).forEach(([key, val]: any) => {\n        totalOps += val.count || 0\n        totalDuration += val.totalTime || 0\n        const maxTime = val.maxTime || 0\n        if (maxTime > peakTime) peakTime = maxTime\n        ops[key] = val.count || 0\n      })\n\n      setStats({\n        totalOperations: totalOps,\n        avgTime: totalOps > 0 ? totalDuration / totalOps : undefined,\n        peakTime: peakTime > 0 ? peakTime : undefined,\n        operations: ops,\n      })\n    }\n  }, [table.metrics])\n\n  return stats\n}\n\n/**\n * Hook for table performance budgets check\n */\nexport function useTableBudgets<TData extends RowData>(\n  table: EnhancedTable<TData>\n): {\n  budgets: Record<string, number>\n  violations: any[]\n  check: () => any[]\n} {\n  const [budgets, setBudgets] = useState<Record<string, number>>({})\n  const [violations, setViolations] = useState<any[]>([])\n\n  useEffect(() => {\n    if (!table.metrics) return\n\n    const currentMetrics = table.metrics.getMetrics?.()\n    const currentBudgets = currentMetrics?.budgets ?? {}\n    setBudgets(currentBudgets)\n\n    const currentViolations = table.metrics.checkBudgets?.() ?? []\n    setViolations(currentViolations)\n\n    const handleViolation = (event: any) => {\n      setViolations((prev) => [...prev, event.payload])\n    }\n\n    table.on?.('performance:budget:exceeded', handleViolation)\n\n    return () => {\n      table.off?.('performance:budget:exceeded', handleViolation)\n    }\n  }, [table.metrics])\n\n  const check = useCallback(() => {\n    if (!table.metrics) return []\n    const violations = table.metrics.checkBudgets?.() ?? []\n    setViolations(violations)\n    return violations\n  }, [table.metrics])\n\n  return { budgets, violations, check }\n}\n","// Core adapter implementation for @gridkit/tanstack-adapter\n// Full integration with GridKit core features\n\nimport type { Table as TanStackTable, RowData } from '@tanstack/react-table'\nimport type { EnhancedTable, EnhancedTableFeatures } from '../types/enhanced'\n\n/**\n * Interceptor for TanStack Table methods\n * Wraps methods to emit events and track performance\n */\nclass MethodInterceptor<TData> {\n  private table: TanStackTable<TData>\n  private eventBus?: any\n  private performanceMonitor?: any\n\n  constructor(\n    table: TanStackTable<TData>,\n    eventBus?: any,\n    performanceMonitor?: any\n  ) {\n    this.table = table\n    this.eventBus = eventBus\n    this.performanceMonitor = performanceMonitor\n  }\n\n  /**\n   * Wrap a method to add event emission and performance tracking\n   */\n  intercept<K extends keyof TanStackTable<TData>>(\n    methodName: K,\n    options?: {\n      before?: (args: any[]) => void\n      after?: (result: any) => void\n      emitStart?: boolean\n      emitComplete?: boolean\n    }\n  ): TanStackTable<TData>[K] {\n    const original = (this.table as any)[methodName]\n\n    return ((...args: any[]) => {\n      // Before hook\n      options?.before?.(args)\n\n      // Emit start event if configured\n      if (options?.emitStart && this.eventBus) {\n        this.eventBus.emit(`${String(methodName)}:start`, { args })\n      }\n\n      // Performance tracking\n      const result = this.performanceMonitor\n        ? this.performanceMonitor.track(String(methodName), () => original(...args))\n        : original(...args)\n\n      // After hook\n      options?.after?.(result)\n\n      // Emit complete event if configured\n      if (options?.emitComplete && this.eventBus) {\n        this.eventBus.emit(`${String(methodName)}:complete`, { result })\n      }\n\n      return result\n    }) as TanStackTable<TData>[K]\n  }\n}\n\n/**\n * Create enhanced table that combines TanStack Table with GridKit features\n */\nexport function createEnhancedTable<TData extends RowData>(\n  tanstackTable: TanStackTable<TData>,\n  features?: EnhancedTableFeatures\n): EnhancedTable<TData> {\n  // Initialize GridKit core components\n  let eventBus: any | undefined\n  let performanceMonitor: any | undefined\n  let validationManager: any | undefined\n  let pluginManager: any | undefined\n\n  // 1. Create event bus if events enabled\n  if (features?.events) {\n    const eventConfig = typeof features.events === 'boolean' ? {} : features.events\n    eventBus = {\n      on: (event: string, handler: (event: any) => void) => {\n        // Stub for now\n        return () => {}\n      },\n      off: (event: string, handler: (event: any) => void) => {},\n      emit: (event: string, payload: any) => {},\n      use: (middleware: any) => { return () => {} }\n    }\n    \n    // Add middleware if provided\n    if (eventConfig.middleware) {\n      eventConfig.middleware.forEach((middleware: any) => {\n        eventBus.use(middleware)\n      })\n    }\n  }\n\n  // 2. Create performance monitor if enabled\n  if (features?.performance) {\n    performanceMonitor = {\n      track: (operation: string, fn: () => any) => fn(),\n      getMetrics: () => ({}),\n      checkBudgets: () => [],\n      setBudgets: (budgets: any) => {},\n      clear: () => {}\n    }\n  }\n\n  // 3. Create validation manager if enabled\n  if (features?.validation) {\n    validationManager = {\n      validateRow: (row: any, index: number) => Promise.resolve({ valid: true, errors: [] }),\n      validateAll: () => Promise.resolve({ valid: true, errors: [] })\n    }\n  }\n\n  // 4. Create plugin manager if plugins provided\n  if (features?.plugins && features.plugins.length > 0) {\n    pluginManager = {\n      register: (plugin: any) => {},\n      unregister: (pluginId: string) => {},\n      get: (pluginId: string) => undefined\n    }\n    \n    features.plugins.forEach(plugin => {\n      pluginManager.register(plugin)\n    })\n  }\n\n  // Create method interceptor for wrapping TanStack methods\n  const interceptor = new MethodInterceptor(tanstackTable, eventBus, performanceMonitor)\n\n  // Wrap TanStack methods with event emission\n  const enhancedTable = {\n    // Preserve all TanStack methods\n    ...tanstackTable,\n    \n    // Add event system\n    on: eventBus?.on,\n    off: eventBus?.off,\n    emit: eventBus?.emit,\n    use: eventBus?.use,\n    getStats: eventBus ? (() => ({})) : undefined,\n\n    // Add performance monitoring\n    metrics: performanceMonitor,\n    \n    // Add validation\n    validator: validationManager,\n    validateRow: validationManager \n      ? ((row: TData, index: number) => validationManager.validateRow(row, index))\n      : undefined,\n    validateAll: validationManager\n      ? (() => validationManager.validateAll())\n      : undefined,\n\n    // Add plugin management\n    registerPlugin: pluginManager?.register,\n    unregisterPlugin: pluginManager?.unregister,\n    getPlugin: pluginManager?.get,\n    pluginManager,\n  } as EnhancedTable<TData>\n\n  // Wrap TanStack methods to emit events\n  const wrappedMethods = ['setSorting', 'setFiltering', 'setPagination', 'setGrouping', 'setColumnVisibility', 'setColumnPinning']\n  \n  wrappedMethods.forEach((methodName: string) => {\n    if (methodName in tanstackTable) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      enhancedTable[methodName as keyof TanStackTable<TData>] = interceptor.intercept(methodName as any, {\n        emitStart: true,\n        emitComplete: true,\n      })\n    }\n  })\n\n  return enhancedTable\n}\n\n/**\n * Create enhanced table from scratch (without TanStack instance)\n * This is a convenience function that creates a TanStack table first\n */\nexport function createEnhancedTableFromOptions<TData extends RowData>(\n  options: any\n): EnhancedTable<TData> {\n  // Import dynamically to avoid circular dependencies\n  const { useReactTable } = require('@tanstack/react-table')\n  \n  // Extract GridKit features from options\n  const { features, ...tanstackOptions } = options\n\n  // Create TanStack table\n  const tanstackTable = useReactTable(tanstackOptions)\n\n  // Create enhanced table with GridKit features\n  return createEnhancedTable(tanstackTable, features)\n}\n\n/**\n * Wrapper function to create enhanced table with default features\n */\nexport function createDefaultEnhancedTable<TData extends RowData>(\n  options: any\n): EnhancedTable<TData> {\n  return createEnhancedTableFromOptions<TData>({\n    ...options,\n    features: {\n      events: true,\n      performance: true,\n      validation: true,\n      ...options.features,\n    },\n  })\n}\n\n/**\n * Enhanced version of TanStack useTable with GridKit features\n */\nexport function useEnhancedTable<TData extends RowData>(\n  options: any\n): EnhancedTable<TData> {\n  const { useMemo } = require('react')\n  const { useReactTable } = require('@tanstack/react-table')\n  \n  // Extract GridKit features from options\n  const { features, ...tanstackOptions } = options\n\n  // Create TanStack table\n  const tanstackTable = useReactTable(tanstackOptions)\n\n  // Create enhanced table with GridKit features\n  return useMemo(() => {\n    return createEnhancedTable(tanstackTable, features)\n  }, [tanstackTable, features])\n}\n","// Event enhancer for TanStack Table adapter\n// Uses GridKit core EventBus for full event system features\n\nimport type { Table as TanStackTable, RowData } from '@tanstack/react-table'\nimport type { EnhancedTable } from '../types/enhanced'\nimport { EventBus, createEventBus } from '@gridkit/core/events'\n\n/**\n * High-order function to add event features to TanStack Table\n */\nexport function withEvents<TData extends RowData>(\n  table: TanStackTable<TData>,\n  config?: { devMode?: boolean } | boolean\n): EnhancedTable<TData> {\n  // Create event bus from core\n  const eventConfig = typeof config === 'boolean' ? {} : config ?? {}\n  const eventBus = createEventBus({\n    devMode: eventConfig.devMode ?? true,\n  })\n\n  // Wrap table with event methods from GridKit core\n  const enhancedTable = {\n    ...table,\n    on: (event: string, handler: (event: any) => void) => {\n      return eventBus.on(event, handler)\n    },\n    off: (event: string, handler: (event: any) => void) => {\n      eventBus.off(event, handler)\n    },\n    emit: (event: string, payload: any, options?: any) => {\n      eventBus.emit(event, payload, options)\n    },\n    use: (middleware: any) => {\n      return eventBus.use(middleware)\n    },\n    getStats: () => eventBus.getStats(),\n  } as EnhancedTable<TData>\n\n  return enhancedTable\n}\n\n/**\n * Create enhanced table with events from options\n */\nexport function createEnhancedTableWithEvents<TData extends RowData>(\n  options: any,\n  config?: { devMode?: boolean } | boolean\n): EnhancedTable<TData> {\n  // First create TanStack table\n  const { useReactTable } = require('@tanstack/react-table')\n  const tanstackTable = useReactTable(options)\n\n  // Add events\n  return withEvents(tanstackTable, config)\n}\n\n/**\n * Enhanced version of TanStack useTable with events\n */\nexport function useTableWithEvents<TData extends RowData>(\n  options: any,\n  config?: { devMode?: boolean } | boolean\n): EnhancedTable<TData> {\n  const { useMemo } = require('react')\n  const { useReactTable } = require('@tanstack/react-table')\n  \n  // First create TanStack table\n  const tanstackTable = useReactTable(options)\n\n  // Add events using useMemo for stability\n  return useMemo(() => {\n    return withEvents(tanstackTable, config)\n  }, [tanstackTable, config])\n}\n","// Performance monitoring enhancer for TanStack Table adapter\n// Uses GridKit core PerformanceMonitor for accurate tracking and budget checking\n\nimport type { Table as TanStackTable, RowData } from '@tanstack/react-table'\nimport type { EnhancedTable, PerformanceConfig } from '../types/enhanced'\nimport { createPerformanceMonitor, type PerformanceMonitor as CorePerformanceMonitor } from '@gridkit/core/performance'\n\n/**\n * High-order function to add performance monitoring to TanStack Table\n */\nexport function withPerformanceMonitoring<TData extends RowData>(\n  table: TanStackTable<TData>,\n  config?: PerformanceConfig | boolean\n): EnhancedTable<TData> {\n  // Create performance monitor from core\n  const perfConfig = typeof config === 'boolean' ? {} : config\n  const performanceConfig: any = {\n    enabled: true,\n    budgets: {\n      tableCreation: 100,\n      stateUpdate: 50,\n      renderCycle: 16,\n      rowModelBuild: 30,\n      eventProcessing: 10,\n      ...perfConfig.budgets,\n    },\n    onViolation: perfConfig.onViolation,\n  }\n  const monitor = createPerformanceMonitor(performanceConfig)\n\n  // Track operations - wrap key methods\n  const trackedMethods = ['getRowModel', 'getSortedRowModel', 'getFilteredRowModel']\n  const enhancedTable = { ...table } as EnhancedTable<TData>\n\n  trackedMethods.forEach(method => {\n    // @ts-ignore - dynamically add methods\n    enhancedTable[method] = ((...args: any[]) => {\n      return monitor.track(String(method), () => (table as any)[method](...args))\n    }) as any\n  })\n\n  // Add metrics access with core performance monitor methods\n  enhancedTable.metrics = {\n    ...monitor,\n    getMetrics: () => monitor.getMetrics(),\n    checkBudgets: () => monitor.checkBudgets(),\n    setBudgets: (budgets: any) => monitor.setBudgets(budgets),\n  }\n\n  return enhancedTable\n}\n\n/**\n * Create enhanced table with performance monitoring from options\n */\nexport function createEnhancedTableWithPerformance<TData extends RowData>(\n  options: any,\n  config?: PerformanceConfig | boolean\n): EnhancedTable<TData> {\n  // First create TanStack table\n  const { useReactTable } = require('@tanstack/react-table')\n  const tanstackTable = useReactTable(options)\n\n  // Add performance monitoring\n  return withPerformanceMonitoring(tanstackTable, config)\n}\n\n/**\n * Enhanced version of TanStack useTable with performance monitoring\n */\nexport function useTableWithPerformance<TData extends RowData>(\n  options: any,\n  config?: PerformanceConfig | boolean\n): EnhancedTable<TData> {\n  const { useMemo } = require('react')\n  const { useReactTable } = require('@tanstack/react-table')\n  \n  // First create TanStack table\n  const tanstackTable = useReactTable(options)\n\n  // Add performance monitoring using useMemo for stability\n  return useMemo(() => {\n    return withPerformanceMonitoring(tanstackTable, config)\n  }, [tanstackTable, config])\n}\n","// Validation enhancer for TanStack Table adapter\n// Uses GridKit core ValidationManager for schema-based validation\n\nimport type { Table as TanStackTable, RowData } from '@tanstack/react-table'\nimport type { EnhancedTable, ValidationConfig, ValidationManager } from '../types/enhanced'\nimport { createValidationManager } from '@gridkit/core/validation'\n\n/**\n * High-order function to add validation to TanStack Table\n */\nexport function withValidation<TData extends RowData>(\n  table: TanStackTable<TData>,\n  config?: ValidationConfig\n): EnhancedTable<TData> {\n  // Create validation manager from core\n  const validationManager = createValidationManager({\n    defaultMode: config?.mode || 'normal',\n    cacheEnabled: config?.cache ?? true,\n    throwOnError: config?.throwOnError ?? false,\n  })\n\n  // Add validation methods\n  const enhancedTable = {\n    ...table,\n    validator: validationManager,\n    validateRow: async (row: TData, index: number) => {\n      return validationManager.validateRow(row, index)\n    },\n    validateAll: async () => {\n      const rows = (table as any).getRowModel?.().rows || []\n      return validationManager.validateArray(rows)\n    },\n  } as EnhancedTable<TData>\n\n  return enhancedTable\n}\n\n/**\n * Create enhanced table with validation from options\n */\nexport function createEnhancedTableWithValidation<TData extends RowData>(\n  options: any,\n  config?: ValidationConfig\n): EnhancedTable<TData> {\n  // First create TanStack table\n  const { useReactTable } = require('@tanstack/react-table')\n  const tanstackTable = useReactTable(options)\n\n  // Add validation\n  return withValidation(tanstackTable, config)\n}\n\n/**\n * Enhanced version of TanStack useTable with validation\n */\nexport function useTableWithValidation<TData extends RowData>(\n  options: any,\n  config?: ValidationConfig\n): EnhancedTable<TData> {\n  const { useMemo } = require('react')\n  const { useReactTable } = require('@tanstack/react-table')\n  \n  // First create TanStack table\n  const tanstackTable = useReactTable(options)\n\n  // Add validation using useMemo for stability\n  return useMemo(() => {\n    return withValidation(tanstackTable, config)\n  }, [tanstackTable, config])\n}\n","// Plugin enhancer for TanStack Table adapter\n// Uses GridKit core PluginManager for plugin management\n\nimport type { Table as TanStackTable, RowData } from '@tanstack/react-table'\nimport type { EnhancedTable, Plugin } from '../types/enhanced'\nimport { PluginManager } from '@gridkit/core/plugin'\n\n/**\n * High-order function to add plugin management to TanStack Table\n */\nexport function withPlugins<TData extends RowData>(\n  table: TanStackTable<TData>,\n  plugins: Plugin[] = []\n): EnhancedTable<TData> {\n  // Create plugin manager from core\n  const pluginManager = new PluginManager()\n\n  // Register all plugins\n  plugins.forEach(plugin => {\n    pluginManager.register(plugin)\n  })\n\n  // Add plugin management methods\n  const enhancedTable = {\n    ...table,\n    registerPlugin: (plugin: Plugin) => {\n      pluginManager.register(plugin)\n    },\n    unregisterPlugin: (pluginId: string) => {\n      pluginManager.unregister(pluginId)\n    },\n    getPlugin: (pluginId: string) => {\n      return pluginManager.get(pluginId)\n    },\n    pluginManager,\n  } as EnhancedTable<TData>\n\n  return enhancedTable\n}\n\n/**\n * Create enhanced table with plugins from options\n */\nexport function createEnhancedTableWithPlugins<TData extends RowData>(\n  options: any,\n  plugins: Plugin[] = []\n): EnhancedTable<TData> {\n  // First create TanStack table\n  const { useReactTable } = require('@tanstack/react-table')\n  const tanstackTable = useReactTable(options)\n\n  // Add plugins\n  return withPlugins(tanstackTable, plugins)\n}\n\n/**\n * Enhanced version of TanStack useTable with plugins\n */\nexport function useTableWithPlugins<TData extends RowData>(\n  options: any,\n  plugins: Plugin[] = []\n): EnhancedTable<TData> {\n  const { useMemo } = require('react')\n  const { useReactTable } = require('@tanstack/react-table')\n  \n  // First create TanStack table\n  const tanstackTable = useReactTable(options)\n\n  // Add plugins using useMemo for stability\n  return useMemo(() => {\n    return withPlugins(tanstackTable, plugins)\n  }, [tanstackTable, plugins])\n}\n","/**\n * GridKit Column Enhancement System\n *\n * Enhances TanStack Table column definitions with GridKit features\n * while maintaining full backward compatibility.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef, CellContext } from '@tanstack/react-table'\nimport type { ValidationSchema, ValidationResult } from '@gridkit/core'\n\n/**\n * Extended metadata for column enhancement\n */\nexport interface ColumnEnhancementOptions<TData, TValue = unknown> {\n  // Validation\n  validation?: ValidationSchema\n  validateCell?: (value: TValue, row: TData) => Promise<ValidationResult>\n\n  // Formatting\n  format?: (value: TValue) => string\n  parse?: (input: string) => TValue\n\n  // Events\n  onCellEdit?: (value: TValue, row: TData, rowIndex: number) => void\n  onCellClick?: (value: TValue, row: TData, rowIndex: number) => void\n  onCellFocus?: (value: TValue, row: TData, rowIndex: number) => void\n\n  // Metadata\n  meta?: {\n    label?: string\n    description?: string\n    category?: string\n    editable?: boolean\n    tooltip?: string\n    icon?: string\n    [key: string]: any\n  }\n\n  // Performance\n  cacheable?: boolean\n  memoize?: boolean\n\n  // Export\n  exportable?: boolean\n  exportFormat?: (value: TValue) => string\n}\n\n/**\n * Enhanced column definition type\n */\nexport interface EnhancedColumnDef<TData, TValue = unknown> \n  extends ColumnDef<TData, TValue> {\n  // Validation\n  validation?: ValidationSchema\n  validateCell?: (value: TValue, row: TData) => Promise<ValidationResult>\n\n  // Formatting\n  format?: (value: TValue) => string\n  parse?: (input: string) => TValue\n\n  // Events\n  onCellEdit?: (value: TValue, row: TData, rowIndex: number) => void\n  onCellClick?: (value: TValue, row: TData, rowIndex: number) => void\n  onCellFocus?: (value: TValue, row: TData, rowIndex: number) => void\n\n  // Metadata\n  meta?: {\n    label?: string\n    description?: string\n    category?: string\n    editable?: boolean\n    tooltip?: string\n    icon?: string\n    [key: string]: any\n  }\n\n  // Performance\n  cacheable?: boolean\n  memoize?: boolean\n\n  // Export\n  exportable?: boolean\n  exportFormat?: (value: TValue) => string\n}\n\n/**\n * Enhance a column definition with GridKit features\n *\n * @param column - Base column definition\n * @param enhancements - Enhancement options\n * @returns Enhanced column definition\n *\n * @example\n * ```typescript\n * const column = enhanceColumn(\n *   {\n *     accessorKey: 'price',\n *     header: 'Price'\n *   },\n *   {\n *     validation: {\n *       type: 'number',\n *       min: 0\n *     },\n *     format: (value) => `$${value.toFixed(2)}`,\n *     meta: {\n *       label: 'Product Price',\n *       editable: true\n *     }\n *   }\n * )\n * ```\n */\nexport function enhanceColumn<TData, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  enhancements?: Partial<ColumnEnhancementOptions<TData, TValue>>\n): EnhancedColumnDef<TData, TValue> {\n  return {\n    ...column,\n    ...enhancements,\n\n    // Enhance cell accessor if validation or formatting is present\n    cell: (info) => {\n      const baseCell = typeof column.cell === 'function'\n        ? column.cell(info)\n        : info.getValue()\n\n      // Apply validation if present\n      if (enhancements?.validation && enhancements.validateCell) {\n        const value = info.getValue() as TValue\n        enhancements.validateCell(value, info.row.original)\n      }\n\n      // Apply format if present\n      if (enhancements?.format) {\n        return enhancements.format(info.getValue() as TValue)\n      }\n\n      return baseCell\n    },\n\n    // Merge metadata\n    meta: {\n      ...column.meta,\n      ...enhancements?.meta\n    }\n  } as EnhancedColumnDef<TData, TValue>\n}\n","/**\n * Validation Column Enhancer for TanStack Table\n *\n * Adds validation capabilities to column definitions using GridKit's validation system.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef } from '@tanstack/react-table'\nimport type { Schema, ValidationResult } from '@gridkit/core'\n\n/**\n * Validation options for column\n */\nexport interface ColumnValidationOptions {\n  mode?: 'strict' | 'normal' | 'minimal' | 'none'\n  cache?: boolean\n  throwOnError?: boolean\n}\n\n/**\n * Validated column definition type\n */\nexport interface ValidatedColumnDef<TData, TValue = unknown> \n  extends ColumnDef<TData, TValue> {\n  validation: Schema<TData>\n  validateCell: (value: TValue, row: TData) => Promise<ValidationResult>\n}\n\n/**\n * Create a validated column definition\n *\n * @param column - Base column definition\n * @param schema - Validation schema (use createSchema() to create)\n * @param options - Validation options\n * @returns Validated column definition\n *\n * @example\n * ```typescript\n * import { createSchema, field } from '@gridkit/core'\n * \n * const schema = createSchema({\n *   email: field('string', {\n *     required: true,\n *     constraints: {\n *       pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n *     }\n *   })\n * })\n * \n * const validatedColumn = withColumnValidation(\n *   { accessorKey: 'email', header: 'Email' },\n *   schema\n * )\n * ```\n */\nexport function withColumnValidation<TData extends unknown, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  schema: Schema<TData>,\n  options?: ColumnValidationOptions\n): ValidatedColumnDef<TData, TValue> {\n  return {\n    ...column,\n    validation: schema,\n\n    validateCell: async (value: TValue, row: TData) => {\n      // Create field name from column id\n      const fieldName = column.id || 'field'\n      const data = { [fieldName]: value } as TData\n      \n      return schema.validate(data)\n    },\n\n    // Enhance cell rendering with validation feedback\n    cell: (info) => {\n      const baseCell = typeof column.cell === 'function'\n        ? column.cell(info)\n        : info.getValue()\n\n      // Validate on render\n      const value = info.getValue() as TValue\n      const fieldName = column.id || 'field'\n      const data = { [fieldName]: value } as TData\n      \n      try {\n        const result = schema.validate(data)\n        \n        // Return result with validation info if cell is a simple value\n        if (typeof baseCell !== 'object' || baseCell === null) {\n          return {\n            content: baseCell,\n            isValid: result.valid,\n            errorMessage: result.valid ? undefined : result.errors[0]?.message,\n          }\n        }\n        \n        return baseCell\n      } catch (error) {\n        // If validation throws, return base cell with error\n        return {\n          content: baseCell,\n          isValid: false,\n          errorMessage: error instanceof Error ? error.message : 'Validation failed',\n        }\n      }\n    },\n  } as ValidatedColumnDef<TData, TValue>\n}\n","/**\n * Formatting Column Enhancer for TanStack Table\n *\n * Adds formatting and parsing capabilities to column definitions.\n * Includes common formatters for currency, percentage, date, and text.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef } from '@tanstack/react-table'\n\n/**\n * Formatter function type\n */\nexport type ColumnFormatter<TValue = unknown> = (value: TValue) => string\n\n/**\n * Parser function type\n */\nexport type ColumnParser<TValue = unknown> = (input: string) => TValue\n\n/**\n * Formatted column definition type\n */\nexport interface FormattedColumnDef<TData, TValue = unknown> \n  extends ColumnDef<TData, TValue> {\n  format: ColumnFormatter<TValue>\n  parse?: ColumnParser<TValue>\n}\n\n/**\n * Create a formatted column definition\n *\n * @param column - Base column definition\n * @param formatter - Format function\n * @param parser - Optional parse function\n * @returns Formatted column definition with formatting capabilities\n *\n * @example\n * ```typescript\n * const priceColumn = withColumnFormat(\n *   { accessorKey: 'price', header: 'Price' },\n *   (value) => `$${value.toFixed(2)}`\n * )\n * ```\n */\nexport function withColumnFormat<TData, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  formatter: ColumnFormatter<TValue>,\n  parser?: ColumnParser<TValue>\n): ColumnDef<TData, TValue> {\n  // Return as ColumnDef - the formatting is done in the cell renderer\n  // We add format and parse as additional properties on the column definition\n  return {\n    ...column,\n    format: formatter,\n    parse: parser,\n  } as ColumnDef<TData, TValue>\n}\n\n/**\n * Common formatters for different data types\n */\nexport const formatters = {\n  /**\n   * Currency formatter\n   * @param decimals - Number of decimal places (default: 2)\n   * @param currency - Currency symbol (default: $)\n   */\n  currency: (decimals = 2, currency = '$') => \n    (value: number) => `${currency}${value.toFixed(decimals)}`,\n\n  /**\n   * Percentage formatter\n   * @param decimals - Number of decimal places (default: 1)\n   * @param multiply - Multiply value by 100 (default: true)\n   */\n  percentage: (decimals = 1, multiply = true) => \n    (value: number) => {\n      const computedValue = multiply ? value * 100 : value\n      return `${computedValue.toFixed(decimals)}%`\n    },\n\n  /**\n   * Date formatter\n   * @param format - Format string (default: 'YYYY-MM-DD')\n   * @example\n   * formatters.date('MM/DD/YYYY')(new Date())\n   */\n  date: (format: 'ISO' | 'YYYY-MM-DD' | 'MM/DD/YYYY' | 'DD/MM/YYYY' = 'YYYY-MM-DD') => \n    (value: Date | string | number) => {\n      const date = typeof value === 'string' || typeof value === 'number' \n        ? new Date(value) \n        : value\n      \n      if (isNaN(date.getTime())) {\n        return ''\n      }\n\n      switch (format) {\n        case 'ISO':\n          return date.toISOString()\n        case 'MM/DD/YYYY':\n          return `${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getDate().toString().padStart(2, '0')}/${date.getFullYear()}`\n        case 'DD/MM/YYYY':\n          return `${date.getDate().toString().padStart(2, '0')}/${(date.getMonth() + 1).toString().padStart(2, '0')}/${date.getFullYear()}`\n        case 'YYYY-MM-DD':\n        default:\n          return date.toISOString().split('T')[0]\n      }\n    },\n\n  /**\n   * Truncate text formatter\n   * @param maxLength - Maximum length (default: 50)\n   * @param suffix - Suffix for truncated text (default: '...')\n   */\n  truncate: (maxLength = 50, suffix = '...') => \n    (value: string) => \n      value.length > maxLength \n        ? `${value.slice(0, maxLength - suffix.length)}${suffix}` \n        : value,\n\n  /**\n   * Uppercase formatter\n   */\n  uppercase: () => (value: string) => value.toUpperCase(),\n\n  /**\n   * Lowercase formatter\n   */\n  lowercase: () => (value: string) => value.toLowerCase(),\n\n  /**\n   * Number formatter\n   * @param decimals - Number of decimal places (default: 2)\n   * @param useGrouping - Use thousand separators (default: true)\n   */\n  number: (decimals = 2, useGrouping = true) => \n    (value: number) => value.toLocaleString(undefined, {\n      minimumFractionDigits: decimals,\n      maximumFractionDigits: decimals,\n      useGrouping,\n    }),\n\n  /**\n   * File size formatter\n   * @param decimals - Number of decimal places (default: 2)\n   */\n  fileSize: (decimals = 2) => \n    (bytes: number) => {\n      if (bytes === 0) return '0 Bytes'\n      \n      const k = 1024\n      const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB']\n      const i = Math.floor(Math.log(bytes) / Math.log(k))\n      \n      const formatted = (bytes / Math.pow(k, i)).toFixed(decimals)\n      // Remove trailing zeros after decimal point\n      const clean = formatted.replace(/\\.?0+$/, '')\n      return clean + ' ' + sizes[i]\n    },\n\n  /**\n   * Phone number formatter (US format)\n   */\n  phoneNumber: () => \n    (value: string) => {\n      const digits = value.replace(/\\D/g, '')\n      \n      if (digits.length === 10) {\n        return `(${digits.slice(0, 3)}) ${digits.slice(3, 6)}-${digits.slice(6)}`\n      }\n      \n      if (digits.length === 11 && digits.startsWith('1')) {\n        return `+1 (${digits.slice(1, 4)}) ${digits.slice(4, 7)}-${digits.slice(7)}`\n      }\n      \n      return value\n    },\n\n  /**\n   * Boolean formatter\n   * @param trueText - Text for true values (default: 'Yes')\n   * @param falseText - Text for false values (default: 'No')\n   */\n  boolean: (trueText = 'Yes', falseText = 'No') => \n    (value: boolean) => value ? trueText : falseText,\n\n  /**\n   * Capitalize formatter\n   */\n  capitalize: () => \n    (value: string) => \n      value.charAt(0).toUpperCase() + value.slice(1).toLowerCase(),\n}\n","/**\n * Event Column Enhancer for TanStack Table\n *\n * Adds event emission capabilities to column definitions using GridKit's EventBus.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef } from '@tanstack/react-table'\nimport type { EventBus, GridEvent } from '@gridkit/core/events'\n\n/**\n * Event handlers for column events\n */\nexport interface ColumnEventHandlers<TData, TValue = unknown> {\n  onEdit?: (value: TValue, row: TData, rowIndex: number) => void\n  onClick?: (value: TValue, row: TData, rowIndex: number) => void\n  onFocus?: (value: TValue, row: TData, rowIndex: number) => void\n}\n\n/**\n * Eventful column definition type\n */\nexport interface EventfulColumnDef<TData, TValue = unknown> \n  extends ColumnDef<TData, TValue> {\n  onCellEdit?: (value: TValue, row: TData, rowIndex: number) => void\n  onCellClick?: (value: TValue, row: TData, rowIndex: number) => void\n  onCellFocus?: (value: TValue, row: TData, rowIndex: number) => void\n  eventEmitter?: EventBus\n}\n\n/**\n * Create an eventful column definition\n *\n * @param column - Base column definition\n * @param eventEmitter - GridKit EventBus instance\n * @param handlers - Event handlers\n * @returns Eventful column definition\n *\n * @example\n * ```typescript\n * const eventfulColumn = withColumnEvents(\n *   { accessorKey: 'name', header: 'Name' },\n *   eventEmitter,\n *   {\n *     onClick: (value, row, index) => {\n *       console.log('Clicked:', value)\n *     },\n *     onEdit: (value, row, index) => {\n *       console.log('Edited:', value)\n *     }\n *   }\n * )\n * ```\n */\nexport function withColumnEvents<TData, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  eventEmitter: EventBus,\n  handlers?: ColumnEventHandlers<TData, TValue>\n): EventfulColumnDef<TData, TValue> {\n  return {\n    ...column,\n    eventEmitter,\n    onCellEdit: handlers?.onEdit,\n    onCellClick: handlers?.onClick,\n    onCellFocus: handlers?.onFocus,\n\n    // Enhance cell to emit events\n    cell: (info) => {\n      const baseCell = typeof column.cell === 'function'\n        ? column.cell(info)\n        : info.getValue()\n\n      const value = info.getValue() as TValue\n      const row = info.row.original\n      const rowIndex = info.row.index\n\n      // Emit cell:render event\n      eventEmitter.emit({\n        type: 'cell:render',\n        payload: { \n          columnId: column.id,\n          value, \n          row, \n          rowIndex \n        }\n      } as GridEvent)\n\n      // Emit cell:click event on cell click (would be triggered by cell component)\n      if (handlers?.onClick) {\n        eventEmitter.emit({\n          type: 'cell:click',\n          payload: {\n            columnId: column.id,\n            value,\n            row,\n            rowIndex,\n          }\n        } as GridEvent)\n      }\n\n      return baseCell\n    },\n  } as EventfulColumnDef<TData, TValue>\n}\n","/**\n * Metadata Column Enhancer for TanStack Table\n *\n * Adds metadata to column definitions for UI and configuration purposes.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef } from '@tanstack/react-table'\n\n/**\n * Column metadata interface\n */\nexport interface ColumnMetadata {\n  label?: string\n  description?: string\n  category?: string\n  editable?: boolean\n  sortable?: boolean\n  filterable?: boolean\n  tooltip?: string\n  icon?: string\n  width?: number | string\n  minWidth?: number\n  maxWidth?: number\n  align?: 'left' | 'center' | 'right'\n  visible?: boolean\n  [key: string]: any\n}\n\n/**\n * Metadata column definition type\n */\nexport interface MetadataColumnDef<TData, TValue = unknown> \n  extends ColumnDef<TData, TValue> {\n  meta: ColumnMetadata\n}\n\n/**\n * Create a column definition with metadata\n *\n * @param column - Base column definition\n * @param metadata - Column metadata\n * @returns Column definition with metadata\n *\n * @example\n * ```typescript\n * const column = withColumnMetadata(\n *   { accessorKey: 'price', header: 'Price' },\n *   {\n *     label: 'Product Price',\n *     description: 'Price in USD',\n *     editable: true,\n *     icon: 'dollar-sign',\n *     width: 150\n *   }\n * )\n * ```\n */\nexport function withColumnMetadata<TData, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  metadata: ColumnMetadata\n): MetadataColumnDef<TData, TValue> {\n  return {\n    ...column,\n    meta: {\n      ...column.meta,\n      ...metadata\n    }\n  } as MetadataColumnDef<TData, TValue>\n}\n","/**\n * Performance Column Enhancer for TanStack Table\n *\n * Adds caching and memoization capabilities to column definitions.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef } from '@tanstack/react-table'\n\n/**\n * Performance options for column\n */\nexport interface ColumnPerformanceOptions {\n  cacheable?: boolean\n  memoize?: boolean\n}\n\n/**\n * Performant column definition type\n */\nexport interface PerformantColumnDef<TData, TValue = unknown> \n  extends ColumnDef<TData, TValue> {\n  cacheable: boolean\n  memoize: boolean\n}\n\n/**\n * Create a performant column definition with caching\n *\n * @param column - Base column definition\n * @param options - Performance options\n * @returns Performant column definition\n *\n * @example\n * ```typescript\n * const performantColumn = withColumnPerformance(\n *   { accessorKey: 'complexField', header: 'Complex' },\n *   { cacheable: true, memoize: true }\n * )\n * ```\n */\nexport function withColumnPerformance<TData, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  options?: ColumnPerformanceOptions\n): PerformantColumnDef<TData, TValue> {\n  const cache = new Map<string, any>()\n  const memoizeCache = new Map<string, any>()\n  \n  const cacheable = options?.cacheable ?? true\n  const memoize = options?.memoize ?? true\n\n  return {\n    ...column,\n    cacheable,\n    memoize,\n\n    cell: (info) => {\n      if (cacheable) {\n        const cacheKey = `${info.row.id}-${column.id}`\n        \n        if (cache.has(cacheKey)) {\n          return cache.get(cacheKey)\n        }\n      }\n\n      const baseCell = typeof column.cell === 'function'\n        ? column.cell(info)\n        : info.getValue()\n\n      if (cacheable) {\n        const cacheKey = `${info.row.id}-${column.id}`\n        cache.set(cacheKey, baseCell)\n      }\n\n      if (memoize) {\n        const memoizeKey = JSON.stringify(info.row.original)\n        \n        if (memoizeCache.has(memoizeKey)) {\n          return memoizeCache.get(memoizeKey)\n        }\n\n        memoizeCache.set(memoizeKey, baseCell)\n      }\n\n      return baseCell\n    },\n  } as PerformantColumnDef<TData, TValue>\n}\n\n/**\n * Clear all caches for a column\n */\nexport function clearColumnPerformanceCache<TData, TValue = unknown>(\n  column: PerformantColumnDef<TData, TValue>\n): void {\n  // Caches are stored in closure, so we can't clear them directly\n  // This is a limitation of the current implementation\n  // In production, consider using WeakMap or context-based caching\n}\n","/**\n * Column Enhancer Composition Utility\n *\n * Utility function to compose multiple column enhancers in a clean, functional way.\n *\n * @module @gridkit/tanstack-adapter/columns\n */\n\nimport type { ColumnDef } from '@tanstack/react-table'\n\n/**\n * Column enhancer function type\n */\nexport type ColumnEnhancer<TData, TValue = unknown> = (\n  column: ColumnDef<TData, TValue>\n) => ColumnDef<TData, TValue>\n\n/**\n * Compose multiple column enhancers into a single enhancer\n *\n * @param enhancers - Array of column enhancers to compose\n * @returns A single enhancer that applies all enhancers in order\n *\n * @example\n * ```typescript\n * const enhance = composeColumnEnhancers(\n *   (col) => withColumnValidation(col, schema),\n *   (col) => withColumnFormat(col, formatter),\n *   (col) => withColumnMetadata(col, meta)\n * )\n * const enhancedColumn = enhance(baseColumn)\n * ```\n */\nexport function composeColumnEnhancers<TData, TValue = unknown>(\n  ...enhancers: ColumnEnhancer<TData, TValue>[]\n): ColumnEnhancer<TData, TValue> {\n  return (column: ColumnDef<TData, TValue>) =>\n    enhancers.reduce(\n      (enhanced, enhancer) => enhancer(enhanced),\n      column\n    )\n}\n\n/**\n * Shorthand for creating a composed column enhancer\n * \n * @param column - Base column definition\n * @param enhancers - Array of enhancers to apply\n * @returns Enhanced column definition\n *\n * @example\n * ```typescript\n * const enhanced = createEnhancedColumn(\n *   { accessorKey: 'price', header: 'Price' },\n *   (col) => withColumnValidation(col, schema),\n *   (col) => withColumnFormat(col, formatters.currency(2)),\n *   (col) => withColumnMetadata(col, { label: 'Price' })\n * )\n * ```\n */\nexport function createEnhancedColumn<TData, TValue = unknown>(\n  column: ColumnDef<TData, TValue>,\n  ...enhancers: ColumnEnhancer<TData, TValue>[]\n): ColumnDef<TData, TValue> {\n  return composeColumnEnhancers(...enhancers)(column)\n}\n"],"mappings":"4ZAAA,IAAAA,GAAA,GAAAC,EAAAD,GAAA,4BAAAE,EAAA,+BAAAC,EAAA,yBAAAC,EAAA,wBAAAC,EAAA,mCAAAC,EAAA,kCAAAC,GAAA,uCAAAC,GAAA,mCAAAC,GAAA,sCAAAC,GAAA,kBAAAC,EAAA,eAAAC,EAAA,wBAAAC,EAAA,qBAAAC,EAAA,yBAAAC,EAAA,oBAAAC,EAAA,mBAAAC,EAAA,oBAAAC,EAAA,wBAAAC,EAAA,mBAAAC,EAAA,sBAAAC,EAAA,kBAAAC,EAAA,kBAAAC,EAAA,uBAAAC,EAAA,uBAAAC,GAAA,4BAAAC,GAAA,wBAAAC,GAAA,2BAAAC,GAAA,qBAAAC,EAAA,qBAAAC,EAAA,uBAAAC,EAAA,0BAAAC,EAAA,yBAAAC,EAAA,eAAAC,EAAA,8BAAAC,EAAA,gBAAAC,EAAA,mBAAAC,IAAA,eAAAC,EAAAtC,ICGA,IAAAuC,EAAkE,iBAElEC,EAA8B,iCCK9B,IAAMC,EAAN,KAA+B,CAK7B,YACEC,EACAC,EACAC,EACA,CACA,KAAK,MAAQF,EACb,KAAK,SAAWC,EAChB,KAAK,mBAAqBC,CAC5B,CAKA,UACEC,EACAC,EAMyB,CACzB,IAAMC,EAAY,KAAK,MAAcF,CAAU,EAE/C,OAAQ,IAAIG,IAAgB,CAE1BF,GAAS,SAASE,CAAI,EAGlBF,GAAS,WAAa,KAAK,UAC7B,KAAK,SAAS,KAAK,GAAG,OAAOD,CAAU,CAAC,SAAU,CAAE,KAAAG,CAAK,CAAC,EAI5D,IAAMC,EAAS,KAAK,mBAChB,KAAK,mBAAmB,MAAM,OAAOJ,CAAU,EAAG,IAAME,EAAS,GAAGC,CAAI,CAAC,EACzED,EAAS,GAAGC,CAAI,EAGpB,OAAAF,GAAS,QAAQG,CAAM,EAGnBH,GAAS,cAAgB,KAAK,UAChC,KAAK,SAAS,KAAK,GAAG,OAAOD,CAAU,CAAC,YAAa,CAAE,OAAAI,CAAO,CAAC,EAG1DA,CACT,EACF,CACF,EAKO,SAASC,EACdC,EACAC,EACsB,CAEtB,IAAIT,EACAC,EACAS,EACAC,EAGJ,GAAIF,GAAU,OAAQ,CACpB,IAAMG,EAAc,OAAOH,EAAS,QAAW,UAAY,CAAC,EAAIA,EAAS,OACzET,EAAW,CACT,GAAI,CAACa,EAAeC,IAEX,IAAM,CAAC,EAEhB,IAAK,CAACD,EAAeC,IAAkC,CAAC,EACxD,KAAM,CAACD,EAAeE,IAAiB,CAAC,EACxC,IAAMC,GAA6B,IAAM,CAAC,CAC5C,EAGIJ,EAAY,YACdA,EAAY,WAAW,QAASI,GAAoB,CAClDhB,EAAS,IAAIgB,CAAU,CACzB,CAAC,CAEL,CAGIP,GAAU,cACZR,EAAqB,CACnB,MAAO,CAACgB,EAAmBC,IAAkBA,EAAG,EAChD,WAAY,KAAO,CAAC,GACpB,aAAc,IAAM,CAAC,EACrB,WAAaC,GAAiB,CAAC,EAC/B,MAAO,IAAM,CAAC,CAChB,GAIEV,GAAU,aACZC,EAAoB,CAClB,YAAa,CAACU,EAAUC,IAAkB,QAAQ,QAAQ,CAAE,MAAO,GAAM,OAAQ,CAAC,CAAE,CAAC,EACrF,YAAa,IAAM,QAAQ,QAAQ,CAAE,MAAO,GAAM,OAAQ,CAAC,CAAE,CAAC,CAChE,GAIEZ,GAAU,SAAWA,EAAS,QAAQ,OAAS,IACjDE,EAAgB,CACd,SAAWW,GAAgB,CAAC,EAC5B,WAAaC,GAAqB,CAAC,EACnC,IAAMA,GAAkB,EAC1B,EAEAd,EAAS,QAAQ,QAAQa,GAAU,CACjCX,EAAc,SAASW,CAAM,CAC/B,CAAC,GAIH,IAAME,EAAc,IAAI1B,EAAkBU,EAAeR,EAAUC,CAAkB,EAG/EwB,EAAgB,CAEpB,GAAGjB,EAGH,GAAIR,GAAU,GACd,IAAKA,GAAU,IACf,KAAMA,GAAU,KAChB,IAAKA,GAAU,IACf,SAAUA,GAAY,KAAO,CAAC,IAAM,OAGpC,QAASC,EAGT,UAAWS,EACX,YAAaA,GACR,CAACU,EAAYC,IAAkBX,EAAkB,YAAYU,EAAKC,CAAK,GACxE,OACJ,YAAaX,GACR,IAAMA,EAAkB,YAAY,GACrC,OAGJ,eAAgBC,GAAe,SAC/B,iBAAkBA,GAAe,WACjC,UAAWA,GAAe,IAC1B,cAAAA,CACF,EAKA,MAFuB,CAAC,aAAc,eAAgB,gBAAiB,cAAe,sBAAuB,kBAAkB,EAEhH,QAAST,GAAuB,CACzCA,KAAcM,IAEhBiB,EAAcvB,CAAwC,EAAIsB,EAAY,UAAUtB,EAAmB,CACjG,UAAW,GACX,aAAc,EAChB,CAAC,EAEL,CAAC,EAEMuB,CACT,CAMO,SAASC,EACdvB,EACsB,CAEtB,GAAM,CAAE,cAAAwB,CAAc,EAAI,QAAQ,uBAAuB,EAGnD,CAAE,SAAAlB,EAAU,GAAGmB,CAAgB,EAAIzB,EAGnCK,EAAgBmB,EAAcC,CAAe,EAGnD,OAAOrB,EAAoBC,EAAeC,CAAQ,CACpD,CAKO,SAASoB,EACd1B,EACsB,CACtB,OAAOuB,EAAsC,CAC3C,GAAGvB,EACH,SAAU,CACR,OAAQ,GACR,YAAa,GACb,WAAY,GACZ,GAAGA,EAAQ,QACb,CACF,CAAC,CACH,CAKO,SAAS2B,EACd3B,EACsB,CACtB,GAAM,CAAE,QAAA4B,CAAQ,EAAI,QAAQ,OAAO,EAC7B,CAAE,cAAAJ,CAAc,EAAI,QAAQ,uBAAuB,EAGnD,CAAE,SAAAlB,EAAU,GAAGmB,CAAgB,EAAIzB,EAGnCK,EAAgBmB,EAAcC,CAAe,EAGnD,OAAOG,EAAQ,IACNxB,EAAoBC,EAAeC,CAAQ,EACjD,CAACD,EAAeC,CAAQ,CAAC,CAC9B,CD5NO,SAASuB,EACdC,EACsB,CACtB,GAAM,CAAE,SAAAC,EAAU,GAAGC,CAAgB,EAAIF,EAGnCG,KAAgB,iBAAcD,CAAe,EAG7CE,KAAgB,WAAQ,IACrBC,EAAoBF,EAAeF,CAAQ,EACjD,CAACE,EAAeF,CAAQ,CAAC,EAG5B,sBAAU,IACD,IAAM,CACXG,EAAc,OAAO,gBAAiB,CAAE,QAAS,SAAU,CAAC,EAC5DA,EAAc,SAAS,QAAQ,CACjC,EACC,CAACA,EAAeD,EAAc,QAAQ,KAAMF,CAAQ,CAAC,EAEjDG,CACT,CAKO,SAASE,EACdC,EACAC,EACM,IACN,aAAU,IAAM,CACd,GAAI,CAACD,EAAM,IAAM,CAACA,EAAM,IAAK,OAE7B,IAAME,EAAmC,CAAC,EAC1C,cAAO,QAAQD,CAAa,EAAE,QAAQ,CAAC,CAACE,EAAWC,CAAO,IAAM,CAC9D,GAAI,CAACJ,EAAM,GAAI,OACf,IAAMK,EAAQL,EAAM,GAAGG,EAAWC,CAAc,EAC5CC,GACFH,EAAc,KAAKG,CAAK,CAE5B,CAAC,EAEM,IAAM,CACXH,EAAc,QAASG,GAAUA,EAAM,CAAC,CAC1C,CACF,EAAG,CAACL,EAAOC,CAAa,CAAC,CAC3B,CAKO,SAASK,EACdN,EACAO,EACK,CACL,GAAM,CAACC,EAAOC,CAAQ,EAAIC,GAAgBV,EAAM,OAAO,EAEvD,sBAAU,IAAM,CACd,GAAI,CAACO,GAAmB,CAACP,EAAM,QAAS,OAExC,IAAMW,EAAW,YAAY,IAAM,CACjC,GAAI,CAACX,EAAM,QAAS,OACpB,IAAMY,EAAUZ,EAAM,QAAQ,aAAa,EAC3CS,EAASG,CAAO,CAClB,EAAGL,CAAe,EAElB,MAAO,IAAM,cAAcI,CAAQ,CACrC,EAAG,CAACJ,EAAiBP,EAAM,OAAO,CAAC,EAE5BQ,CACT,CAEA,SAASE,GAAgBE,EAAc,CACrC,GAAM,CAACJ,EAAOC,CAAQ,KAAI,YAASG,GAAS,aAAa,GAAK,MAAS,EAEvE,sBAAU,IAAM,CACVA,GACFH,EAASG,EAAQ,aAAa,CAAC,CAEnC,EAAG,CAACA,CAAO,CAAC,EAELJ,CACT,CAKO,SAASK,EACdb,EACAc,EAAwB,GAKxB,CACA,GAAM,CAACC,EAAQC,CAAS,KAAI,YAAc,EACpC,CAACC,EAAcC,CAAe,KAAI,YAAS,EAAK,EAEhDC,KAAW,eAAY,SAAY,CACvC,GAAI,CAACnB,EAAM,aAAe,CAACA,EAAM,WAAW,YAC1C,MAAM,IAAI,MAAM,wBAAwB,EAG1CkB,EAAgB,EAAI,EACpB,GAAI,CACF,IAAME,EAAS,MAAMpB,EAAM,cAAc,EACzC,OAAAgB,EAAUI,CAAM,EACTA,CACT,QAAE,CACAF,EAAgB,EAAK,CACvB,CACF,EAAG,CAAClB,EAAM,YAAaA,EAAM,SAAS,CAAC,EAEvC,sBAAU,IAAM,CACVc,GACFK,EAAS,CAEb,EAAG,CAACnB,EAAM,QAAQ,KAAMc,EAAcK,CAAQ,CAAC,EAExC,CAAE,OAAAJ,EAAQ,SAAAI,EAAU,aAAAF,CAAa,CAC1C,CAKO,SAASI,EACdrB,EACAsB,EACqB,CACrB,GAAM,CAACC,EAAQC,CAAS,KAAI,YAAkB,EAE9C,sBAAU,IAAM,CACd,GAAI,CAACxB,EAAM,UAAW,OACtB,IAAMyB,EAAQzB,EAAM,UAAUsB,CAAQ,EACtCE,EAAUC,CAAK,CACjB,EAAG,CAACzB,EAAOsB,CAAQ,CAAC,EAEbC,CACT,CAKO,SAASG,EACd1B,EACA2B,EAYA,CACA5B,EAAeC,EAAO2B,GAAQ,QAAU,CAAC,CAAC,EAC1C,IAAMf,EAAUN,EAAgBN,EAAO2B,GAAQ,eAAe,EACxDC,EAAaf,EAAmBb,EAAO2B,GAAQ,YAAY,EAEjE,SAAO,WACL,KAAO,CACL,QAAAf,EACA,WAAAgB,CACF,GACA,CAAChB,EAASgB,CAAU,CACtB,CACF,CAKO,SAASC,EACd7B,EACA8B,EACM,IACN,aAAU,IAAM,CACd,GAAI,CAAC9B,EAAM,SAAW,CAAC8B,EAAS,OAEhC,OAAO,QAAQA,CAAO,EAAE,QAAQ,CAAC,CAACC,EAAWC,CAAM,IAAM,CAClDhC,EAAM,SACXA,EAAM,QAAQ,aAAa,CACzB,WAAY,CAAE,CAAC+B,CAAS,EAAGC,EAAO,OAAQ,CAC5C,CAAC,CACH,CAAC,EAED,IAAMC,EAAmBC,GAAe,CACtC,QAAQ,KAAK,+BAAgCA,EAAM,OAAO,CAC5D,EAEM7B,EAAQL,EAAM,IAAMA,EAAM,GAAG,8BAA+BiC,CAAe,EAEjF,MAAO,IAAM5B,IAAQ,CACvB,EAAG,CAACL,EAAO8B,CAAO,CAAC,CACrB,CAKO,SAASK,EACdnC,EACAoC,EACM,IACN,aAAU,IAAM,CACd,GAAI,CAACpC,EAAM,GAAI,OAEf,IAAMI,EAAW8B,GAAe,EAC1BA,EAAM,OAAS,eAAiBA,EAAM,OAAS,iBACjDE,EAASF,EAAM,OAAO,CAE1B,EAEA,OAAAlC,EAAM,KAAK,cAAeI,CAAO,EACjCJ,EAAM,KAAK,eAAgBI,CAAO,EAE3B,IAAM,CACXJ,EAAM,MAAM,cAAeI,CAAO,EAClCJ,EAAM,MAAM,eAAgBI,CAAO,CACrC,CACF,EAAG,CAACJ,EAAOoC,CAAQ,CAAC,CACtB,CAKO,SAASC,EACdrC,EACuD,CACvD,GAAM,CAACsC,EAAgBC,CAAiB,KAAI,YAAmB,CAAC,CAAC,KAEjE,aAAU,IAAM,CAEd,IAAMC,EADQxC,EAAM,WAAW,GACH,cAAgB,CAAC,EACvCyC,EAAc,MAAM,QAAQD,CAAY,EAC1CA,EACA,OAAO,KAAKA,CAAY,EAC5BD,EAAkBE,CAAW,CAC/B,EAAG,CAACzC,CAAK,CAAC,EAEV,IAAM0C,KAAY,eAChB,CAACC,EAAeC,IAAqB,CACnC,GAAI,CAAC5C,EAAM,gBAAiB,CAC1B,QAAQ,KAAK,yBAAyB,EACtC,MACF,CAEAuC,EAAmBM,GACbD,EACK,MAAM,KAAK,IAAI,IAAI,CAAC,GAAGC,EAAMF,CAAK,CAAC,CAAC,EAEpCE,EAAK,OAAQC,GAAOA,IAAOH,CAAK,CAE1C,EAED3C,EAAM,gBAAgB,CAAC6C,EAAY,CAAC,IAAM,CACxC,GAAID,EACF,MAAO,CAAE,GAAGC,EAAM,CAACF,CAAK,EAAG,EAAK,EAC3B,CACL,GAAM,CAAE,CAACA,CAAK,EAAGI,EAAG,GAAGC,CAAK,EAAIH,EAChC,OAAOG,CACT,CACF,CAAC,CACH,EACA,CAAChD,CAAK,CACR,EAEA,MAAO,CAACsC,EAAgBI,CAAS,CACnC,CAKO,SAASO,EACdjD,EAMA,CACA,GAAM,CAACQ,EAAOC,CAAQ,KAAI,YAAS,CACjC,gBAAiB,EACjB,QAAS,OACT,SAAU,OACV,WAAY,CAAC,CACf,CAAC,EAED,sBAAU,IAAM,CACd,GAAI,CAACT,EAAM,QAAS,CAClBS,EAAS,CAAE,gBAAiB,EAAG,QAAS,OAAW,SAAU,OAAW,WAAY,CAAC,CAAE,CAAC,EACxF,MACF,CAEA,IAAMyC,EAAiBlD,EAAM,QAAQ,aAAa,EAClD,GAAIkD,GAAkBA,EAAe,WAAY,CAC/C,IAAIC,EAAW,EACXC,EAAgB,EAChBC,EAAW,EACTC,EAA8B,CAAC,EAErC,OAAO,QAAQJ,EAAe,UAAU,EAAE,QAAQ,CAAC,CAACK,EAAKC,CAAG,IAAW,CACrEL,GAAYK,EAAI,OAAS,EACzBJ,GAAiBI,EAAI,WAAa,EAClC,IAAMC,EAAUD,EAAI,SAAW,EAC3BC,EAAUJ,IAAUA,EAAWI,GACnCH,EAAIC,CAAG,EAAIC,EAAI,OAAS,CAC1B,CAAC,EAED/C,EAAS,CACP,gBAAiB0C,EACjB,QAASA,EAAW,EAAIC,EAAgBD,EAAW,OACnD,SAAUE,EAAW,EAAIA,EAAW,OACpC,WAAYC,CACd,CAAC,CACH,CACF,EAAG,CAACtD,EAAM,OAAO,CAAC,EAEXQ,CACT,CAKO,SAASkD,EACd1D,EAKA,CACA,GAAM,CAAC8B,EAAS6B,CAAU,KAAI,YAAiC,CAAC,CAAC,EAC3D,CAACC,EAAYC,CAAa,KAAI,YAAgB,CAAC,CAAC,KAEtD,aAAU,IAAM,CACd,GAAI,CAAC7D,EAAM,QAAS,OAGpB,IAAM8D,EADiB9D,EAAM,QAAQ,aAAa,GACX,SAAW,CAAC,EACnD2D,EAAWG,CAAc,EAEzB,IAAMC,EAAoB/D,EAAM,QAAQ,eAAe,GAAK,CAAC,EAC7D6D,EAAcE,CAAiB,EAE/B,IAAM9B,EAAmBC,GAAe,CACtC2B,EAAehB,GAAS,CAAC,GAAGA,EAAMX,EAAM,OAAO,CAAC,CAClD,EAEA,OAAAlC,EAAM,KAAK,8BAA+BiC,CAAe,EAElD,IAAM,CACXjC,EAAM,MAAM,8BAA+BiC,CAAe,CAC5D,CACF,EAAG,CAACjC,EAAM,OAAO,CAAC,EAElB,IAAMgE,KAAQ,eAAY,IAAM,CAC9B,GAAI,CAAChE,EAAM,QAAS,MAAO,CAAC,EAC5B,IAAM4D,EAAa5D,EAAM,QAAQ,eAAe,GAAK,CAAC,EACtD,OAAA6D,EAAcD,CAAU,EACjBA,CACT,EAAG,CAAC5D,EAAM,OAAO,CAAC,EAElB,MAAO,CAAE,QAAA8B,EAAS,WAAA8B,EAAY,MAAAI,CAAM,CACtC,CE1XA,IAAAC,EAAyC,gCAKlC,SAASC,EACdC,EACAC,EACsB,CAGtB,IAAMC,KAAW,kBAAe,CAC9B,SAFkB,OAAOD,GAAW,UAAY,CAAC,EAAIA,GAAU,CAAC,GAE3C,SAAW,EAClC,CAAC,EAoBD,MAjBsB,CACpB,GAAGD,EACH,GAAI,CAACG,EAAeC,IACXF,EAAS,GAAGC,EAAOC,CAAO,EAEnC,IAAK,CAACD,EAAeC,IAAkC,CACrDF,EAAS,IAAIC,EAAOC,CAAO,CAC7B,EACA,KAAM,CAACD,EAAeE,EAAcC,IAAkB,CACpDJ,EAAS,KAAKC,EAAOE,EAASC,CAAO,CACvC,EACA,IAAMC,GACGL,EAAS,IAAIK,CAAU,EAEhC,SAAU,IAAML,EAAS,SAAS,CACpC,CAGF,CAKO,SAASM,GACdF,EACAL,EACsB,CAEtB,GAAM,CAAE,cAAAQ,CAAc,EAAI,QAAQ,uBAAuB,EACnDC,EAAgBD,EAAcH,CAAO,EAG3C,OAAOP,EAAWW,EAAeT,CAAM,CACzC,CAKO,SAASU,GACdL,EACAL,EACsB,CACtB,GAAM,CAAE,QAAAW,CAAQ,EAAI,QAAQ,OAAO,EAC7B,CAAE,cAAAH,CAAc,EAAI,QAAQ,uBAAuB,EAGnDC,EAAgBD,EAAcH,CAAO,EAG3C,OAAOM,EAAQ,IACNb,EAAWW,EAAeT,CAAM,EACtC,CAACS,EAAeT,CAAM,CAAC,CAC5B,CCpEA,IAAAY,EAA4F,qCAKrF,SAASC,EACdC,EACAC,EACsB,CAEtB,IAAMC,EAAa,OAAOD,GAAW,UAAY,CAAC,EAAIA,EAChDE,EAAyB,CAC7B,QAAS,GACT,QAAS,CACP,cAAe,IACf,YAAa,GACb,YAAa,GACb,cAAe,GACf,gBAAiB,GACjB,GAAGD,EAAW,OAChB,EACA,YAAaA,EAAW,WAC1B,EACME,KAAU,4BAAyBD,CAAiB,EAGpDE,EAAiB,CAAC,cAAe,oBAAqB,qBAAqB,EAC3EC,EAAgB,CAAE,GAAGN,CAAM,EAEjC,OAAAK,EAAe,QAAQE,GAAU,CAE/BD,EAAcC,CAAM,GAAK,IAAIC,IACpBJ,EAAQ,MAAM,OAAOG,CAAM,EAAG,IAAOP,EAAcO,CAAM,EAAE,GAAGC,CAAI,CAAC,EAE9E,CAAC,EAGDF,EAAc,QAAU,CACtB,GAAGF,EACH,WAAY,IAAMA,EAAQ,WAAW,EACrC,aAAc,IAAMA,EAAQ,aAAa,EACzC,WAAaK,GAAiBL,EAAQ,WAAWK,CAAO,CAC1D,EAEOH,CACT,CAKO,SAASI,GACdC,EACAV,EACsB,CAEtB,GAAM,CAAE,cAAAW,CAAc,EAAI,QAAQ,uBAAuB,EACnDC,EAAgBD,EAAcD,CAAO,EAG3C,OAAOZ,EAA0Bc,EAAeZ,CAAM,CACxD,CAKO,SAASa,GACdH,EACAV,EACsB,CACtB,GAAM,CAAE,QAAAc,CAAQ,EAAI,QAAQ,OAAO,EAC7B,CAAE,cAAAH,CAAc,EAAI,QAAQ,uBAAuB,EAGnDC,EAAgBD,EAAcD,CAAO,EAG3C,OAAOI,EAAQ,IACNhB,EAA0Bc,EAAeZ,CAAM,EACrD,CAACY,EAAeZ,CAAM,CAAC,CAC5B,CC/EA,IAAAe,EAAwC,oCAKjC,SAASC,EACdC,EACAC,EACsB,CAEtB,IAAMC,KAAoB,2BAAwB,CAChD,YAAaD,GAAQ,MAAQ,SAC7B,aAAcA,GAAQ,OAAS,GAC/B,aAAcA,GAAQ,cAAgB,EACxC,CAAC,EAeD,MAZsB,CACpB,GAAGD,EACH,UAAWE,EACX,YAAa,MAAOC,EAAYC,IACvBF,EAAkB,YAAYC,EAAKC,CAAK,EAEjD,YAAa,SAAY,CACvB,IAAMC,EAAQL,EAAc,cAAc,EAAE,MAAQ,CAAC,EACrD,OAAOE,EAAkB,cAAcG,CAAI,CAC7C,CACF,CAGF,CAKO,SAASC,GACdC,EACAN,EACsB,CAEtB,GAAM,CAAE,cAAAO,CAAc,EAAI,QAAQ,uBAAuB,EACnDC,EAAgBD,EAAcD,CAAO,EAG3C,OAAOR,EAAeU,EAAeR,CAAM,CAC7C,CAKO,SAASS,GACdH,EACAN,EACsB,CACtB,GAAM,CAAE,QAAAU,CAAQ,EAAI,QAAQ,OAAO,EAC7B,CAAE,cAAAH,CAAc,EAAI,QAAQ,uBAAuB,EAGnDC,EAAgBD,EAAcD,CAAO,EAG3C,OAAOI,EAAQ,IACNZ,EAAeU,EAAeR,CAAM,EAC1C,CAACQ,EAAeR,CAAM,CAAC,CAC5B,CChEA,IAAAW,EAA8B,gCAKvB,SAASC,EACdC,EACAC,EAAoB,CAAC,EACC,CAEtB,IAAMC,EAAgB,IAAI,gBAG1B,OAAAD,EAAQ,QAAQE,GAAU,CACxBD,EAAc,SAASC,CAAM,CAC/B,CAAC,EAGqB,CACpB,GAAGH,EACH,eAAiBG,GAAmB,CAClCD,EAAc,SAASC,CAAM,CAC/B,EACA,iBAAmBC,GAAqB,CACtCF,EAAc,WAAWE,CAAQ,CACnC,EACA,UAAYA,GACHF,EAAc,IAAIE,CAAQ,EAEnC,cAAAF,CACF,CAGF,CAKO,SAASG,GACdC,EACAL,EAAoB,CAAC,EACC,CAEtB,GAAM,CAAE,cAAAM,CAAc,EAAI,QAAQ,uBAAuB,EACnDC,EAAgBD,EAAcD,CAAO,EAG3C,OAAOP,EAAYS,EAAeP,CAAO,CAC3C,CAKO,SAASQ,GACdH,EACAL,EAAoB,CAAC,EACC,CACtB,GAAM,CAAE,QAAAS,CAAQ,EAAI,QAAQ,OAAO,EAC7B,CAAE,cAAAH,CAAc,EAAI,QAAQ,uBAAuB,EAGnDC,EAAgBD,EAAcD,CAAO,EAG3C,OAAOI,EAAQ,IACNX,EAAYS,EAAeP,CAAO,EACxC,CAACO,EAAeP,CAAO,CAAC,CAC7B,CC2CO,SAASU,EACdC,EACAC,EACkC,CAClC,MAAO,CACL,GAAGD,EACH,GAAGC,EAGH,KAAOC,GAAS,CACd,IAAMC,EAAW,OAAOH,EAAO,MAAS,WACpCA,EAAO,KAAKE,CAAI,EAChBA,EAAK,SAAS,EAGlB,GAAID,GAAc,YAAcA,EAAa,aAAc,CACzD,IAAMG,EAAQF,EAAK,SAAS,EAC5BD,EAAa,aAAaG,EAAOF,EAAK,IAAI,QAAQ,CACpD,CAGA,OAAID,GAAc,OACTA,EAAa,OAAOC,EAAK,SAAS,CAAW,EAG/CC,CACT,EAGA,KAAM,CACJ,GAAGH,EAAO,KACV,GAAGC,GAAc,IACnB,CACF,CACF,CC7FO,SAASI,EACdC,EACAC,EACAC,EACmC,CACnC,MAAO,CACL,GAAGF,EACH,WAAYC,EAEZ,aAAc,MAAOE,EAAeC,IAAe,CAGjD,IAAMC,EAAO,CAAE,CADGL,EAAO,IAAM,OACN,EAAGG,CAAM,EAElC,OAAOF,EAAO,SAASI,CAAI,CAC7B,EAGA,KAAOC,GAAS,CACd,IAAMC,EAAW,OAAOP,EAAO,MAAS,WACpCA,EAAO,KAAKM,CAAI,EAChBA,EAAK,SAAS,EAGZH,EAAQG,EAAK,SAAS,EAEtBD,EAAO,CAAE,CADGL,EAAO,IAAM,OACN,EAAGG,CAAM,EAElC,GAAI,CACF,IAAMK,EAASP,EAAO,SAASI,CAAI,EAGnC,OAAI,OAAOE,GAAa,UAAYA,IAAa,KACxC,CACL,QAASA,EACT,QAASC,EAAO,MAChB,aAAcA,EAAO,MAAQ,OAAYA,EAAO,OAAO,CAAC,GAAG,OAC7D,EAGKD,CACT,OAASE,EAAO,CAEd,MAAO,CACL,QAASF,EACT,QAAS,GACT,aAAcE,aAAiB,MAAQA,EAAM,QAAU,mBACzD,CACF,CACF,CACF,CACF,CC7DO,SAASC,EACdC,EACAC,EACAC,EAC0B,CAG1B,MAAO,CACL,GAAGF,EACH,OAAQC,EACR,MAAOC,CACT,CACF,CAKO,IAAMC,EAAa,CAMxB,SAAU,CAACC,EAAW,EAAGC,EAAW,MACjCC,GAAkB,GAAGD,CAAQ,GAAGC,EAAM,QAAQF,CAAQ,CAAC,GAO1D,WAAY,CAACA,EAAW,EAAGG,EAAW,KACnCD,GAEQ,IADeC,EAAWD,EAAQ,IAAMA,GACvB,QAAQF,CAAQ,CAAC,IAS7C,KAAM,CAACI,EAA6D,eACjEF,GAAkC,CACjC,IAAMG,EAAO,OAAOH,GAAU,UAAY,OAAOA,GAAU,SACvD,IAAI,KAAKA,CAAK,EACdA,EAEJ,GAAI,MAAMG,EAAK,QAAQ,CAAC,EACtB,MAAO,GAGT,OAAQD,EAAQ,CACd,IAAK,MACH,OAAOC,EAAK,YAAY,EAC1B,IAAK,aACH,MAAO,IAAIA,EAAK,SAAS,EAAI,GAAG,SAAS,EAAE,SAAS,EAAG,GAAG,CAAC,IAAIA,EAAK,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAG,GAAG,CAAC,IAAIA,EAAK,YAAY,CAAC,GACjI,IAAK,aACH,MAAO,GAAGA,EAAK,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAG,GAAG,CAAC,KAAKA,EAAK,SAAS,EAAI,GAAG,SAAS,EAAE,SAAS,EAAG,GAAG,CAAC,IAAIA,EAAK,YAAY,CAAC,GAEjI,QACE,OAAOA,EAAK,YAAY,EAAE,MAAM,GAAG,EAAE,CAAC,CAC1C,CACF,EAOF,SAAU,CAACC,EAAY,GAAIC,EAAS,QACjCL,GACCA,EAAM,OAASI,EACX,GAAGJ,EAAM,MAAM,EAAGI,EAAYC,EAAO,MAAM,CAAC,GAAGA,CAAM,GACrDL,EAKR,UAAW,IAAOA,GAAkBA,EAAM,YAAY,EAKtD,UAAW,IAAOA,GAAkBA,EAAM,YAAY,EAOtD,OAAQ,CAACF,EAAW,EAAGQ,EAAc,KAClCN,GAAkBA,EAAM,eAAe,OAAW,CACjD,sBAAuBF,EACvB,sBAAuBA,EACvB,YAAAQ,CACF,CAAC,EAMH,SAAU,CAACR,EAAW,IACnBS,GAAkB,CACjB,GAAIA,IAAU,EAAG,MAAO,UAExB,IAAMC,EAAI,KACJC,EAAQ,CAAC,QAAS,KAAM,KAAM,KAAM,IAAI,EACxCC,EAAI,KAAK,MAAM,KAAK,IAAIH,CAAK,EAAI,KAAK,IAAIC,CAAC,CAAC,EAKlD,OAHmBD,EAAQ,KAAK,IAAIC,EAAGE,CAAC,GAAG,QAAQZ,CAAQ,EAEnC,QAAQ,SAAU,EAAE,EAC7B,IAAMW,EAAMC,CAAC,CAC9B,EAKF,YAAa,IACVV,GAAkB,CACjB,IAAMW,EAASX,EAAM,QAAQ,MAAO,EAAE,EAEtC,OAAIW,EAAO,SAAW,GACb,IAAIA,EAAO,MAAM,EAAG,CAAC,CAAC,KAAKA,EAAO,MAAM,EAAG,CAAC,CAAC,IAAIA,EAAO,MAAM,CAAC,CAAC,GAGrEA,EAAO,SAAW,IAAMA,EAAO,WAAW,GAAG,EACxC,OAAOA,EAAO,MAAM,EAAG,CAAC,CAAC,KAAKA,EAAO,MAAM,EAAG,CAAC,CAAC,IAAIA,EAAO,MAAM,CAAC,CAAC,GAGrEX,CACT,EAOF,QAAS,CAACY,EAAW,MAAOC,EAAY,OACrCb,GAAmBA,EAAQY,EAAWC,EAKzC,WAAY,IACTb,GACCA,EAAM,OAAO,CAAC,EAAE,YAAY,EAAIA,EAAM,MAAM,CAAC,EAAE,YAAY,CACjE,EC5IO,SAASc,EACdC,EACAC,EACAC,EACkC,CAClC,MAAO,CACL,GAAGF,EACH,aAAAC,EACA,WAAYC,GAAU,OACtB,YAAaA,GAAU,QACvB,YAAaA,GAAU,QAGvB,KAAOC,GAAS,CACd,IAAMC,EAAW,OAAOJ,EAAO,MAAS,WACpCA,EAAO,KAAKG,CAAI,EAChBA,EAAK,SAAS,EAEZE,EAAQF,EAAK,SAAS,EACtBG,EAAMH,EAAK,IAAI,SACfI,EAAWJ,EAAK,IAAI,MAG1B,OAAAF,EAAa,KAAK,CAChB,KAAM,cACN,QAAS,CACP,SAAUD,EAAO,GACjB,MAAAK,EACA,IAAAC,EACA,SAAAC,CACF,CACF,CAAc,EAGVL,GAAU,SACZD,EAAa,KAAK,CAChB,KAAM,aACN,QAAS,CACP,SAAUD,EAAO,GACjB,MAAAK,EACA,IAAAC,EACA,SAAAC,CACF,CACF,CAAc,EAGTH,CACT,CACF,CACF,CC7CO,SAASI,EACdC,EACAC,EACkC,CAClC,MAAO,CACL,GAAGD,EACH,KAAM,CACJ,GAAGA,EAAO,KACV,GAAGC,CACL,CACF,CACF,CC5BO,SAASC,EACdC,EACAC,EACoC,CACpC,IAAMC,EAAQ,IAAI,IACZC,EAAe,IAAI,IAEnBC,EAAYH,GAAS,WAAa,GAClCI,EAAUJ,GAAS,SAAW,GAEpC,MAAO,CACL,GAAGD,EACH,UAAAI,EACA,QAAAC,EAEA,KAAOC,GAAS,CACd,GAAIF,EAAW,CACb,IAAMG,EAAW,GAAGD,EAAK,IAAI,EAAE,IAAIN,EAAO,EAAE,GAE5C,GAAIE,EAAM,IAAIK,CAAQ,EACpB,OAAOL,EAAM,IAAIK,CAAQ,CAE7B,CAEA,IAAMC,EAAW,OAAOR,EAAO,MAAS,WACpCA,EAAO,KAAKM,CAAI,EAChBA,EAAK,SAAS,EAElB,GAAIF,EAAW,CACb,IAAMG,EAAW,GAAGD,EAAK,IAAI,EAAE,IAAIN,EAAO,EAAE,GAC5CE,EAAM,IAAIK,EAAUC,CAAQ,CAC9B,CAEA,GAAIH,EAAS,CACX,IAAMI,EAAa,KAAK,UAAUH,EAAK,IAAI,QAAQ,EAEnD,GAAIH,EAAa,IAAIM,CAAU,EAC7B,OAAON,EAAa,IAAIM,CAAU,EAGpCN,EAAa,IAAIM,EAAYD,CAAQ,CACvC,CAEA,OAAOA,CACT,CACF,CACF,CCvDO,SAASE,KACXC,EAC4B,CAC/B,OAAQC,GACND,EAAU,OACR,CAACE,EAAUC,IAAaA,EAASD,CAAQ,EACzCD,CACF,CACJ,CAmBO,SAASG,EACdH,KACGD,EACuB,CAC1B,OAAOD,EAAuB,GAAGC,CAAS,EAAEC,CAAM,CACpD","names":["src_exports","__export","composeColumnEnhancers","createDefaultEnhancedTable","createEnhancedColumn","createEnhancedTable","createEnhancedTableFromOptions","createEnhancedTableWithEvents","createEnhancedTableWithPerformance","createEnhancedTableWithPlugins","createEnhancedTableWithValidation","enhanceColumn","formatters","useEnhancedFeatures","useEnhancedTable","useGridEnhancedTable","useTableBudgets","useTableEvents","useTableMetrics","useTablePerformance","useTablePlugin","useTableSelection","useTableState","useTableStats","useTableValidation","useTableWithEvents","useTableWithPerformance","useTableWithPlugins","useTableWithValidation","withColumnEvents","withColumnFormat","withColumnMetadata","withColumnPerformance","withColumnValidation","withEvents","withPerformanceMonitoring","withPlugins","withValidation","__toCommonJS","import_react","import_react_table","MethodInterceptor","table","eventBus","performanceMonitor","methodName","options","original","args","result","createEnhancedTable","tanstackTable","features","validationManager","pluginManager","eventConfig","event","handler","payload","middleware","operation","fn","budgets","row","index","plugin","pluginId","interceptor","enhancedTable","createEnhancedTableFromOptions","useReactTable","tanstackOptions","createDefaultEnhancedTable","useEnhancedTable","useMemo","useGridEnhancedTable","options","features","tanstackOptions","tanstackTable","enhancedTable","createEnhancedTable","useTableEvents","table","eventHandlers","unsubscribers","eventType","handler","unsub","useTableMetrics","refreshInterval","stats","setStats","useStateMetrics","interval","metrics","useTableValidation","autoValidate","report","setReport","isValidating","setIsValidating","validate","result","useTablePlugin","pluginId","plugin","setPlugin","found","useEnhancedFeatures","config","validation","useTablePerformance","budgets","operation","budget","handleViolation","event","useTableState","callback","useTableSelection","selectedRowIds","setSelectedRowIds","rowSelection","selectedIds","selectRow","rowId","checked","prev","id","_","rest","useTableStats","currentMetrics","totalOps","totalDuration","peakTime","ops","key","val","maxTime","useTableBudgets","setBudgets","violations","setViolations","currentBudgets","currentViolations","check","import_events","withEvents","table","config","eventBus","event","handler","payload","options","middleware","createEnhancedTableWithEvents","useReactTable","tanstackTable","useTableWithEvents","useMemo","import_performance","withPerformanceMonitoring","table","config","perfConfig","performanceConfig","monitor","trackedMethods","enhancedTable","method","args","budgets","createEnhancedTableWithPerformance","options","useReactTable","tanstackTable","useTableWithPerformance","useMemo","import_validation","withValidation","table","config","validationManager","row","index","rows","createEnhancedTableWithValidation","options","useReactTable","tanstackTable","useTableWithValidation","useMemo","import_plugin","withPlugins","table","plugins","pluginManager","plugin","pluginId","createEnhancedTableWithPlugins","options","useReactTable","tanstackTable","useTableWithPlugins","useMemo","enhanceColumn","column","enhancements","info","baseCell","value","withColumnValidation","column","schema","options","value","row","data","info","baseCell","result","error","withColumnFormat","column","formatter","parser","formatters","decimals","currency","value","multiply","format","date","maxLength","suffix","useGrouping","bytes","k","sizes","i","digits","trueText","falseText","withColumnEvents","column","eventEmitter","handlers","info","baseCell","value","row","rowIndex","withColumnMetadata","column","metadata","withColumnPerformance","column","options","cache","memoizeCache","cacheable","memoize","info","cacheKey","baseCell","memoizeKey","composeColumnEnhancers","enhancers","column","enhanced","enhancer","createEnhancedColumn"]}