import{useMemo as s}from"react";import{useReactTable as p}from"@tanstack/react-table";function T(e,a){return{...e}}function u(e){throw new Error("createEnhancedTableFromOptions not yet implemented")}function m(e){return u({...e,features:{events:!0,performance:!0,validation:!0,...e.features}})}var c=class{constructor(){this.handlers=new Map}on(a,t){return this.handlers.has(a)||this.handlers.set(a,new Set),this.handlers.get(a).add(t),()=>this.off(a,t)}off(a,t){let r=this.handlers.get(a);r&&r.delete(t)}emit(a,t,r){let n=this.handlers.get(a);n&&n.forEach(o=>o({type:a,payload:t,...r}))}use(a){return()=>{}}};function h(e,a){let t=new c;return{...e,on:(n,o)=>t.on(n,o),off:(n,o)=>{t.off(n,o)},emit:(n,o,i)=>{t.emit(n,o,i)},use:n=>t.use(n)}}var l=class{constructor(){this.stats=new Map}track(a,t){let r=performance.now(),n=t(),o=performance.now()-r,i=this.stats.get(a)||{count:0,totalTime:0};return this.stats.set(a,{count:i.count+1,totalTime:i.totalTime+o}),n}getOperationStats(a){let t=this.stats.get(a);return t?{operation:a,count:t.count,avgTime:t.totalTime/t.count,totalTime:t.totalTime}:null}getMemoryMetrics(){return{heapUsed:0,heapTotal:0,external:0}}};function f(e,a){let t=new l,r=["getRowModel","getSortedRowModel","getFilteredRowModel"],n={...e};return r.forEach(o=>{n[o]=((...i)=>t.track(String(o),()=>e[o](...i)))}),n.metrics=t,n}var d=class{constructor(a){this.mode=a?.mode||"normal"}async validateRow(a,t){let r=[],n=[];return this.mode,{isValid:r.length===0,errors:r,warnings:n}}async validateAll(a){return[]}};function b(e,a){let t=new d(a);return{...e,validator:t,validateRow:async(n,o)=>t.validateRow(n,o),validateAll:async()=>{let n=e.getRowModel?.().rows||[];return t.validateAll(n)}}}function R(e){let{features:a,...t}=e,r=p(t);return s(()=>T(r,a),[r,a])}function S(e){return s(()=>({getOperationStats:a=>e.metrics?.getOperationStats(a),getMemoryMetrics:()=>e.metrics?.getMemoryMetrics()}),[e.metrics])}function O(e){return s(()=>({validateRow:async(a,t)=>{if(!e.validateRow)throw new Error("Validation not enabled");return e.validateRow(a,t)},validateAll:async()=>{if(!e.validateAll)throw new Error("Validation not enabled");return e.validateAll()},validator:e.validator}),[e.validateRow,e.validateAll,e.validator])}function C(e){return s(()=>({on:e.on,off:e.off,emit:e.emit,use:e.use}),[e.on,e.off,e.emit,e.use])}export{m as createDefaultEnhancedTable,T as createEnhancedTable,u as createEnhancedTableFromOptions,R as useGridEnhancedTable,C as useTableEvents,S as useTableMetrics,O as useValidation,h as withEvents,f as withPerformanceMonitoring,b as withValidation};
//# sourceMappingURL=index.mjs.map